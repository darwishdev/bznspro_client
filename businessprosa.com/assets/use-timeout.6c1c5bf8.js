import{r as z,f as T,o as d,b as f,n as y,u as v,h as w,g as p,d as b,q as R}from"./index.32ca4d4b.js";import{c as O}from"./render.44ecb383.js";import{b as x}from"./Ripple.31ab956e.js";function D(){const n=z(!T.value);return n.value===!1&&d(()=>{n.value=!0}),n}const g=typeof ResizeObserver!="undefined",h=g===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var C=O({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(n,{emit:c}){let o=null,e,r={width:-1,height:-1};function s(t){t===!0||n.debounce===0||n.debounce==="0"?u():o===null&&(o=setTimeout(u,n.debounce))}function u(){if(clearTimeout(o),o=null,e){const{offsetWidth:t,offsetHeight:i}=e;(t!==r.width||i!==r.height)&&(r={width:t,height:i},c("resize",r))}}const{proxy:l}=p();if(g===!0){let t;const i=a=>{e=l.$el.parentNode,e?(t=new ResizeObserver(s),t.observe(e),u()):a!==!0&&v(()=>{i(!0)})};return d(()=>{i()}),f(()=>{clearTimeout(o),t!==void 0&&(t.disconnect!==void 0?t.disconnect():e&&t.unobserve(e))}),y}else{let a=function(){clearTimeout(o),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",s,b.passive),i=void 0)},m=function(){a(),e&&e.contentDocument&&(i=e.contentDocument.defaultView,i.addEventListener("resize",s,b.passive),u())};const t=D();let i;return d(()=>{v(()=>{e=l.$el,e&&m()})}),f(a),l.trigger=s,()=>{if(t.value===!0)return w("object",{style:h.style,tabindex:-1,type:"text/html",data:h.url,"aria-hidden":"true",onLoad:m})}}}});function Q(){let n;const c=p();function o(){clearTimeout(n)}return R(o),f(o),{removeTimeout:o,registerTimeout(e,r){clearTimeout(n),x(c)===!1&&(n=setTimeout(e,r))}}}export{C as Q,Q as u};
